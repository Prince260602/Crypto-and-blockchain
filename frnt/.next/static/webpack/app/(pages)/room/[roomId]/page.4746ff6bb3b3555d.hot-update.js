"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(pages)/room/[roomId]/page",{

/***/ "(app-pages-browser)/./src/app/_components/chat/page.js":
/*!******************************************!*\
  !*** ./src/app/_components/chat/page.js ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! socket.io-client */ \"(app-pages-browser)/./node_modules/socket.io-client/build/esm/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nconst ChatRoom = (param)=>{\n    let { roomId } = param;\n    _s();\n    //   const socket = useMemo(() => io(\"https://lovetunes-2.onrender.com\"), []);\n    const socket = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"ChatRoom.useMemo[socket]\": ()=>(0,socket_io_client__WEBPACK_IMPORTED_MODULE_3__.io)(\"http://localhost:3001\")\n    }[\"ChatRoom.useMemo[socket]\"], []);\n    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [chat, setChat] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [userId, setUserId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [roomUsers, setRoomUsers] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [videoId, setVideoId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [player, setPlayer] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [isPlaying, setIsPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [searchResults, setSearchResults] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [videoTitle, setVideoTitle] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"Unknown video\");\n    const scroll = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)();\n    const [modal, setmodal] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const notificationTone = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatRoom.useEffect\": ()=>{\n            const id = (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n            setUserId(id);\n        }\n    }[\"ChatRoom.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatRoom.useEffect\": ()=>{\n            if (!socket) return;\n            socket.on(\"connect\", {\n                \"ChatRoom.useEffect\": ()=>{\n                    console.log(\"Connected to server\");\n                }\n            }[\"ChatRoom.useEffect\"]);\n            socket.on(\"receive-message\", {\n                \"ChatRoom.useEffect\": (data)=>{\n                    console.log(\"Received message:\", data);\n                    setChat({\n                        \"ChatRoom.useEffect\": (prev)=>[\n                                ...prev,\n                                data\n                            ]\n                    }[\"ChatRoom.useEffect\"]);\n                    if (notificationTone.current) {\n                        notificationTone.current.play().catch({\n                            \"ChatRoom.useEffect\": (err)=>{\n                                console.error(\"Error playing notification tone:\", err);\n                            }\n                        }[\"ChatRoom.useEffect\"]);\n                    } // Add the received message to the chat state\n                }\n            }[\"ChatRoom.useEffect\"]);\n            socket.on(\"room-users\", {\n                \"ChatRoom.useEffect\": (users)=>{\n                    setRoomUsers(users);\n                }\n            }[\"ChatRoom.useEffect\"]);\n            socket.on(\"play-video\", {\n                \"ChatRoom.useEffect\": (videoId, videoTitle)=>{\n                    setVideoId(videoId);\n                    setVideoTitle(videoTitle);\n                    if (player) {\n                        player.loadVideoById(videoId);\n                        player.playVideo();\n                    }\n                    setIsPlaying(true);\n                }\n            }[\"ChatRoom.useEffect\"]);\n            socket.on(\"pause-video\", {\n                \"ChatRoom.useEffect\": ()=>{\n                    if (player) {\n                        player.pauseVideo();\n                    }\n                    setIsPlaying(false);\n                }\n            }[\"ChatRoom.useEffect\"]);\n            socket.on(\"video-state\", {\n                \"ChatRoom.useEffect\": (isPlaying)=>{\n                    setIsPlaying(isPlaying);\n                    if (player) {\n                        isPlaying ? player.playVideo() : player.pauseVideo();\n                    }\n                }\n            }[\"ChatRoom.useEffect\"]);\n            socket.emit(\"join-room\", roomId);\n            return ({\n                \"ChatRoom.useEffect\": ()=>{\n                    socket.off(\"connect\");\n                    socket.off(\"receive-message\");\n                    socket.off(\"room-users\");\n                    socket.off(\"play-video\");\n                    socket.off(\"pause-video\");\n                    socket.off(\"video-state\");\n                }\n            })[\"ChatRoom.useEffect\"];\n        }\n    }[\"ChatRoom.useEffect\"], [\n        socket,\n        player,\n        roomId\n    ]);\n    const searchYouTube = async (query)=>{\n        const API_KEY = \"AIzaSyAxxSljO93jjej9LWGONJpXFP8O6BU5eR0\";\n        try {\n            const response = await fetch(\"https://www.googleapis.com/youtube/v3/search?part=snippet&q=\".concat(query, \"&key=\").concat(API_KEY));\n            const data = await response.json();\n            console.log(data);\n            setSearchResults(data.items);\n        } catch (error) {\n            console.error(\"Error fetching YouTube data:\", error);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatRoom.useEffect\": ()=>{\n            if (typeof window.YT === \"undefined\") {\n                const script = document.createElement(\"script\");\n                script.src = \"https://www.youtube.com/iframe_api\";\n                script.async = true;\n                script.onload = ({\n                    \"ChatRoom.useEffect\": ()=>{\n                        window.onYouTubeIframeAPIReady = onYouTubeIframeAPIReady;\n                    }\n                })[\"ChatRoom.useEffect\"];\n                document.body.appendChild(script);\n            } else {\n                window.onYouTubeIframeAPIReady = onYouTubeIframeAPIReady;\n            }\n        }\n    }[\"ChatRoom.useEffect\"], []);\n    const onYouTubeIframeAPIReady = ()=>{\n        if (videoId) {\n            const newPlayer = new window.YT.Player(\"youtube-player\", {\n                height: \"1\",\n                width: \"1\",\n                videoId: videoId,\n                playerVars: {\n                    autoplay: 0,\n                    controls: 0,\n                    modestbranding: 1,\n                    showinfo: 0,\n                    fs: 0,\n                    rel: 0\n                },\n                events: {\n                    onReady: (event)=>{\n                        setPlayer(event.target);\n                        if (isPlaying) {\n                            event.target.playVideo();\n                        } else {\n                            event.target.pauseVideo();\n                        }\n                    },\n                    onStateChange: (event)=>{\n                        if (event.data === window.YT.PlayerState.PLAYING) {\n                            setIsPlaying(true);\n                        }\n                        if (event.data === window.YT.PlayerState.PAUSED) {\n                            setIsPlaying(false);\n                        }\n                    }\n                }\n            });\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatRoom.useEffect\": ()=>{\n            if (videoId && typeof window.YT !== \"undefined\") {\n                onYouTubeIframeAPIReady();\n            }\n        }\n    }[\"ChatRoom.useEffect\"], [\n        videoId\n    ]);\n    const handlePlayPause = ()=>{\n        if (isPlaying) {\n            socket.emit(\"pause-video\", roomId);\n            setIsPlaying(false);\n            if (player) {\n                player.pauseVideo();\n            }\n        } else {\n            socket.emit(\"play-video\", roomId, videoId, videoTitle);\n            setVideoTitle(videoTitle);\n            if (player) {\n                player.playVideo();\n            }\n        }\n        setIsPlaying(!isPlaying);\n    };\n    const handleVideoSelect = (videoId, videoTitle)=>{\n        setVideoId(videoId);\n        setVideoTitle(videoTitle);\n        socket.emit(\"play-video\", roomId, videoId, videoTitle);\n        if (player) {\n            player.loadVideoById(videoId);\n            player.playVideo();\n        }\n        setIsPlaying(true);\n    };\n    const sendMessage = function() {\n        let type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"text\", content = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n        if (type === \"text\" && message.trim()) {\n            const data = {\n                roomId,\n                type,\n                message,\n                senderId: userId\n            };\n            socket.emit(\"send-message\", data);\n            setMessage(\"\"); // Reset the input\n        } else if (type === \"media\" && content) {\n            const data = {\n                roomId,\n                type,\n                content,\n                senderId: userId\n            };\n            socket.emit(\"send-message\", data);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatRoom.useEffect\": ()=>{\n            if (scroll.current) {\n                scroll.current.scrollTop = scroll.current.scrollHeight;\n            }\n        }\n    }[\"ChatRoom.useEffect\"], [\n        chat\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col h-screen w-screen bg-[#025940] text-white py-2 relative overflow-hidden overflow-y-hidden\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"h-[800px] w-[800px] bg-blue-800 rounded-full blur-3xl opacity-25 absolute bottom-0 -left-32\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                        lineNumber: 217,\n                        columnNumber: 5\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                        ref: notificationTone,\n                        src: \"/tone.mp3\",\n                        preload: \"auto\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                        lineNumber: 218,\n                        columnNumber: 5\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"h-[400px] w-[400px] bg-purple-800 rounded-full blur-3xl opacity-25 absolute top-0 -right-32\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                        lineNumber: 219,\n                        columnNumber: 5\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-white font-semibold text-center py-2 text-sm\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: [\n                                    roomUsers.length,\n                                    \" users\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                lineNumber: 221,\n                                columnNumber: 9\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: [\n                                    \"Share code: \",\n                                    roomId\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                lineNumber: 222,\n                                columnNumber: 9\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                        lineNumber: 220,\n                        columnNumber: 5\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"max-w-screen-xl w-full mx-auto rounded-xl relative z-10 lg:px-0 px-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex w-full items-center justify-between lg:py-5 py-2 px-5 bg-blue-300 rounded-xl z-20\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-3\",\n                                        children: videoId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: (videoTitle === null || videoTitle === void 0 ? void 0 : videoTitle.length) > 20 ? videoTitle === null || videoTitle === void 0 ? void 0 : videoTitle.slice(0, 20) : \"\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                                    lineNumber: 233,\n                                                    columnNumber: 25\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"px-4 py-2 \".concat(isPlaying ? \"bg-blue-900\" : \"bg-blue-300\", \" text-white rounded-lg\"),\n                                                    onClick: handlePlayPause,\n                                                    children: isPlaying ? \"Pause\" : \"Play\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                                    lineNumber: 234,\n                                                    columnNumber: 25\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                            lineNumber: 232,\n                                            columnNumber: 21\n                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \" No music selected\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                            lineNumber: 242,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                        lineNumber: 230,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                                        src: \"/123l.png\",\n                                        alt: \"music\",\n                                        width: 60,\n                                        height: 60,\n                                        className: \"cursor-pointer\",\n                                        onClick: ()=>setmodal(true)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                        lineNumber: 245,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                lineNumber: 229,\n                                columnNumber: 9\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                id: \"youtube-player\",\n                                className: \"mb-4\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                lineNumber: 249,\n                                columnNumber: 9\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"lg:h-[520px] h-[500px] overflow-y-scroll flex flex-col gap-4 py-10 lg:px-8 px-2 rounded-xl z-10\",\n                                ref: scroll,\n                                children: chat.map((msg, index)=>{\n                                    var _msg_content, _msg_content1, _msg_content2, _msg_content3, _msg_content4;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center \".concat(msg.senderId === userId ? \"justify-end\" : \"justify-start\"),\n                                        children: [\n                                            msg.senderId !== userId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                                                src: \"/heart.png\",\n                                                alt: \"User\",\n                                                width: 40,\n                                                height: 40,\n                                                className: \"mr-2 rounded-full bg-blue-300 p-2\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                                lineNumber: 259,\n                                                columnNumber: 25\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"py-2 px-4 max-w-xs rounded-lg \".concat(msg.senderId === userId ? \"bg-blue-400 text-white\" : \"bg-blue-300\"),\n                                                children: [\n                                                    msg.type === \"text\" && msg.message,\n                                                    msg.type === \"media\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            ((_msg_content = msg.content) === null || _msg_content === void 0 ? void 0 : _msg_content.startsWith(\"data:image\")) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                src: msg.content,\n                                                                alt: \"Shared media\",\n                                                                className: \"max-w-full rounded-lg\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                                                lineNumber: 274,\n                                                                columnNumber: 37\n                                                            }, undefined),\n                                                            ((_msg_content1 = msg.content) === null || _msg_content1 === void 0 ? void 0 : _msg_content1.startsWith(\"data:video\")) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                                                controls: true,\n                                                                className: \"max-w-full rounded-lg\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                                                                        src: msg.content,\n                                                                        type: \"video/mp4\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                                                        lineNumber: 279,\n                                                                        columnNumber: 41\n                                                                    }, undefined),\n                                                                    \"Your browser does not support the video tag.\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                                                lineNumber: 278,\n                                                                columnNumber: 37\n                                                            }, undefined),\n                                                            ((_msg_content2 = msg.content) === null || _msg_content2 === void 0 ? void 0 : _msg_content2.startsWith(\"blob:\")) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                children: ((_msg_content3 = msg.content) === null || _msg_content3 === void 0 ? void 0 : _msg_content3.includes(\"image\")) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                    src: msg.content,\n                                                                    alt: \"Shared media\",\n                                                                    className: \"max-w-full rounded-lg\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                                                    lineNumber: 287,\n                                                                    columnNumber: 45\n                                                                }, undefined) : ((_msg_content4 = msg.content) === null || _msg_content4 === void 0 ? void 0 : _msg_content4.includes(\"video\")) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                                                    controls: true,\n                                                                    className: \"max-w-full rounded-lg\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                                                                            src: msg.content,\n                                                                            type: \"video/mp4\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                                                            lineNumber: 290,\n                                                                            columnNumber: 49\n                                                                        }, undefined),\n                                                                        \"Your browser does not support the video tag.\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                                                    lineNumber: 289,\n                                                                    columnNumber: 45\n                                                                }, undefined) : null\n                                                            }, void 0, false)\n                                                        ]\n                                                    }, void 0, true)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                                lineNumber: 267,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        ]\n                                    }, index, true, {\n                                        fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                        lineNumber: 254,\n                                        columnNumber: 17\n                                    }, undefined);\n                                })\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                lineNumber: 252,\n                                columnNumber: 9\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-row items-center space-x-5\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        value: message,\n                                        onChange: (e)=>setMessage(e.target.value),\n                                        onKeyDown: (e)=>{\n                                            if (e.key === \"Enter\") {\n                                                sendMessage(\"text\");\n                                            }\n                                        },\n                                        placeholder: \"Type a message...\",\n                                        className: \"w-full p-3 border border-gray-300 bg-transparent rounded-lg text-white  sm:mb-0\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                        lineNumber: 305,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>sendMessage(\"text\"),\n                                        className: \"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600\",\n                                        children: \"Send\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                        lineNumber: 317,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                lineNumber: 304,\n                                columnNumber: 9\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                        lineNumber: 226,\n                        columnNumber: 5\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                lineNumber: 215,\n                columnNumber: 8\n            }, undefined),\n            modal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed top-0 left-0 w-full h-full flex items-center justify-center bg-black bg-opacity-80 z-50\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"absolute top-4 right-4 text-white text-2xl\",\n                        onClick: ()=>setmodal(false),\n                        children: \"Close\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                        lineNumber: 330,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-4 flex flex-col items-center space-y-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"text\",\n                                value: searchQuery,\n                                onChange: (e)=>setSearchQuery(e.target.value),\n                                placeholder: \"Search for a song...\",\n                                className: \"w-full p-3 border border-gray-300 rounded-lg \"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                lineNumber: 332,\n                                columnNumber: 25\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>searchYouTube(searchQuery),\n                                className: \"mt-2 px-4 py-2 bg-blue-500 text-white rounded-lg\",\n                                children: \"Search\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                lineNumber: 339,\n                                columnNumber: 25\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4\",\n                                children: searchResults.map((video)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex justify-between mb-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \" text-white px-10\",\n                                                children: [\n                                                    \" \",\n                                                    video.snippet.title\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                                lineNumber: 350,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>handleVideoSelect(video.id.videoId, video.snippet.title),\n                                                className: \"px-4 py-2 bg-green-500 text-white rounded-lg\",\n                                                children: \"Select\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                                lineNumber: 351,\n                                                columnNumber: 37\n                                            }, undefined)\n                                        ]\n                                    }, video.id.videoId, true, {\n                                        fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                        lineNumber: 349,\n                                        columnNumber: 33\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                                lineNumber: 347,\n                                columnNumber: 25\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                        lineNumber: 331,\n                        columnNumber: 21\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\princ\\\\Downloads\\\\need love\\\\src\\\\app\\\\_components\\\\chat\\\\page.js\",\n                lineNumber: 329,\n                columnNumber: 26\n            }, undefined)\n        ]\n    }, void 0, true);\n};\n_s(ChatRoom, \"sP9WCM4jhhJCZTvqJx4G40LtErw=\");\n_c = ChatRoom;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChatRoom);\nvar _c;\n$RefreshReg$(_c, \"ChatRoom\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvX2NvbXBvbmVudHMvY2hhdC9wYWdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUMrQjtBQUNxQztBQUM5QjtBQUNGO0FBRXBDLE1BQU1TLFdBQVc7UUFBQyxFQUFFQyxNQUFNLEVBQUU7O0lBQ3hCLDhFQUE4RTtJQUM5RSxNQUFNQyxTQUFTUiw4Q0FBT0E7b0NBQUMsSUFBTUcsb0RBQUVBLENBQUM7bUNBQTBCLEVBQUU7SUFDNUQsTUFBTSxDQUFDTSxTQUFTQyxXQUFXLEdBQUdSLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ1MsTUFBTUMsUUFBUSxHQUFHViwrQ0FBUUEsQ0FBQyxFQUFFO0lBQ25DLE1BQU0sQ0FBQ1csUUFBUUMsVUFBVSxHQUFHWiwrQ0FBUUEsQ0FBQztJQUNyQyxNQUFNLENBQUNhLFdBQVdDLGFBQWEsR0FBR2QsK0NBQVFBLENBQUMsRUFBRTtJQUM3QyxNQUFNLENBQUNlLFNBQVNDLFdBQVcsR0FBR2hCLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ2lCLFFBQVFDLFVBQVUsR0FBR2xCLCtDQUFRQSxDQUFDO0lBQ3JDLE1BQU0sQ0FBQ21CLFdBQVdDLGFBQWEsR0FBR3BCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ3FCLGFBQWFDLGVBQWUsR0FBR3RCLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ3VCLGVBQWVDLGlCQUFpQixHQUFHeEIsK0NBQVFBLENBQUMsRUFBRTtJQUNyRCxNQUFNLENBQUN5QixZQUFZQyxjQUFjLEdBQUcxQiwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNMkIsU0FBUzVCLDZDQUFNQTtJQUNyQixNQUFNLENBQUM2QixPQUFPQyxTQUFTLEdBQUc3QiwrQ0FBUUEsQ0FBQztJQUVuQyxNQUFNOEIsbUJBQW1CL0IsNkNBQU1BLENBQUM7SUFFaENGLGdEQUFTQTs4QkFBQztZQUNOLE1BQU1rQyxLQUFLNUIsZ0RBQU1BO1lBQ2pCUyxVQUFVbUI7UUFDZDs2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QUFZOzRDQUNoQjt3Q0FDQTt3Q0FDWmlDLGFBQVk7d0NBQ1p6QixXQUFVOzs7Ozs7a0RBRWQsOERBQUNRO3dDQUNHQyxTQUFTLElBQU1qQixZQUFZO3dDQUMzQlEsV0FBVTtrREFDYjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBU0d0RSx1QkFBUyw4REFBQ3FFO2dCQUFJQyxXQUFVOztrQ0FDcEIsOERBQUNRO3dCQUFPUixXQUFVO3dCQUE2Q1MsU0FBUyxJQUFNOUUsU0FBUztrQ0FBUTs7Ozs7O2tDQUMvRiw4REFBQ29FO3dCQUFJQyxXQUFVOzswQ0FDWCw4REFBQ21CO2dDQUNHMUIsTUFBSztnQ0FDTDJCLE9BQU9qRztnQ0FDUGtHLFVBQVUsQ0FBQ0MsSUFBTWxHLGVBQWVrRyxFQUFFckMsTUFBTSxDQUFDbUMsS0FBSztnQ0FDOUNLLGFBQVk7Z0NBQ1p6QixXQUFVOzs7Ozs7MENBRWQsOERBQUNRO2dDQUNHQyxTQUFTLElBQU0zRCxjQUFjM0I7Z0NBQzdCNkUsV0FBVTswQ0FDYjs7Ozs7OzBDQUtELDhEQUFDRDtnQ0FBSUMsV0FBVTswQ0FDVjNFLGNBQWNzRixHQUFHLENBQUMsQ0FBQ0ssc0JBQ2hCLDhEQUFDakI7d0NBQTJCQyxXQUFVOzswREFDbEMsOERBQUNEO2dEQUFJQyxXQUFVOztvREFBb0I7b0RBQUVnQixNQUFNVSxPQUFPLENBQUNDLEtBQUs7Ozs7Ozs7MERBQ3hELDhEQUFDbkI7Z0RBQ0dDLFNBQVMsSUFBTWxCLGtCQUFrQnlCLE1BQU1uRixFQUFFLENBQUNoQixPQUFPLEVBQUVtRyxNQUFNVSxPQUFPLENBQUNDLEtBQUs7Z0RBQ3RFM0IsV0FBVTswREFDYjs7Ozs7Ozt1Q0FMS2dCLE1BQU1uRixFQUFFLENBQUNoQixPQUFPOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQjFEO0dBdFdNWDtLQUFBQTtBQXdXTixpRUFBZUEsUUFBUUEsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxwcmluY1xcRG93bmxvYWRzXFxuZWVkIGxvdmVcXHNyY1xcYXBwXFxfY29tcG9uZW50c1xcY2hhdFxccGFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuaW1wb3J0IEltYWdlIGZyb20gXCJuZXh0L2ltYWdlXCI7XHJcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgaW8gfSBmcm9tIFwic29ja2V0LmlvLWNsaWVudFwiO1xyXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tIFwidXVpZFwiO1xyXG5cclxuY29uc3QgQ2hhdFJvb20gPSAoeyByb29tSWQgfSkgPT4ge1xyXG4gICAgLy8gICBjb25zdCBzb2NrZXQgPSB1c2VNZW1vKCgpID0+IGlvKFwiaHR0cHM6Ly9sb3ZldHVuZXMtMi5vbnJlbmRlci5jb21cIiksIFtdKTtcclxuICAgIGNvbnN0IHNvY2tldCA9IHVzZU1lbW8oKCkgPT4gaW8oXCJodHRwOi8vbG9jYWxob3N0OjMwMDFcIiksIFtdKTtcclxuICAgIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKFwiXCIpO1xyXG4gICAgY29uc3QgW2NoYXQsIHNldENoYXRdID0gdXNlU3RhdGUoW10pO1xyXG4gICAgY29uc3QgW3VzZXJJZCwgc2V0VXNlcklkXSA9IHVzZVN0YXRlKFwiXCIpO1xyXG4gICAgY29uc3QgW3Jvb21Vc2Vycywgc2V0Um9vbVVzZXJzXSA9IHVzZVN0YXRlKFtdKTtcclxuICAgIGNvbnN0IFt2aWRlb0lkLCBzZXRWaWRlb0lkXSA9IHVzZVN0YXRlKFwiXCIpO1xyXG4gICAgY29uc3QgW3BsYXllciwgc2V0UGxheWVyXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gICAgY29uc3QgW2lzUGxheWluZywgc2V0SXNQbGF5aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICAgIGNvbnN0IFtzZWFyY2hRdWVyeSwgc2V0U2VhcmNoUXVlcnldID0gdXNlU3RhdGUoXCJcIik7XHJcbiAgICBjb25zdCBbc2VhcmNoUmVzdWx0cywgc2V0U2VhcmNoUmVzdWx0c10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgICBjb25zdCBbdmlkZW9UaXRsZSwgc2V0VmlkZW9UaXRsZV0gPSB1c2VTdGF0ZShcIlVua25vd24gdmlkZW9cIik7XHJcbiAgICBjb25zdCBzY3JvbGwgPSB1c2VSZWYoKVxyXG4gICAgY29uc3QgW21vZGFsLCBzZXRtb2RhbF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gICAgY29uc3Qgbm90aWZpY2F0aW9uVG9uZSA9IHVzZVJlZihudWxsKTtcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdXVpZHY0KCk7XHJcbiAgICAgICAgc2V0VXNlcklkKGlkKTtcclxuICAgIH0sIFtdKTtcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmICghc29ja2V0KSByZXR1cm47XHJcblxyXG4gICAgICAgIHNvY2tldC5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbm5lY3RlZCB0byBzZXJ2ZXJcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc29ja2V0Lm9uKFwicmVjZWl2ZS1tZXNzYWdlXCIsIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVjZWl2ZWQgbWVzc2FnZTpcIiwgZGF0YSk7XHJcbiAgICAgICAgICAgIHNldENoYXQoKHByZXYpID0+IFsuLi5wcmV2LCBkYXRhXSk7XHJcbiAgICAgICAgICAgIGlmIChub3RpZmljYXRpb25Ub25lLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvblRvbmUuY3VycmVudC5wbGF5KCkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwbGF5aW5nIG5vdGlmaWNhdGlvbiB0b25lOlwiLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gLy8gQWRkIHRoZSByZWNlaXZlZCBtZXNzYWdlIHRvIHRoZSBjaGF0IHN0YXRlXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBzb2NrZXQub24oXCJyb29tLXVzZXJzXCIsICh1c2VycykgPT4ge1xyXG4gICAgICAgICAgICBzZXRSb29tVXNlcnModXNlcnMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzb2NrZXQub24oXCJwbGF5LXZpZGVvXCIsICh2aWRlb0lkLCB2aWRlb1RpdGxlKSA9PiB7XHJcbiAgICAgICAgICAgIHNldFZpZGVvSWQodmlkZW9JZCk7XHJcbiAgICAgICAgICAgIHNldFZpZGVvVGl0bGUodmlkZW9UaXRsZSk7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5sb2FkVmlkZW9CeUlkKHZpZGVvSWQpO1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnBsYXlWaWRlbygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldElzUGxheWluZyh0cnVlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc29ja2V0Lm9uKFwicGF1c2UtdmlkZW9cIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIucGF1c2VWaWRlbygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldElzUGxheWluZyhmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNvY2tldC5vbihcInZpZGVvLXN0YXRlXCIsIChpc1BsYXlpbmcpID0+IHtcclxuICAgICAgICAgICAgc2V0SXNQbGF5aW5nKGlzUGxheWluZyk7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgIGlzUGxheWluZyA/IHBsYXllci5wbGF5VmlkZW8oKSA6IHBsYXllci5wYXVzZVZpZGVvKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc29ja2V0LmVtaXQoXCJqb2luLXJvb21cIiwgcm9vbUlkKTtcclxuXHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgc29ja2V0Lm9mZihcImNvbm5lY3RcIik7XHJcbiAgICAgICAgICAgIHNvY2tldC5vZmYoXCJyZWNlaXZlLW1lc3NhZ2VcIik7XHJcbiAgICAgICAgICAgIHNvY2tldC5vZmYoXCJyb29tLXVzZXJzXCIpO1xyXG4gICAgICAgICAgICBzb2NrZXQub2ZmKFwicGxheS12aWRlb1wiKTtcclxuICAgICAgICAgICAgc29ja2V0Lm9mZihcInBhdXNlLXZpZGVvXCIpO1xyXG4gICAgICAgICAgICBzb2NrZXQub2ZmKFwidmlkZW8tc3RhdGVcIik7XHJcbiAgICAgICAgfTtcclxuICAgIH0sIFtzb2NrZXQsIHBsYXllciwgcm9vbUlkXSk7XHJcblxyXG4gICAgY29uc3Qgc2VhcmNoWW91VHViZSA9IGFzeW5jIChxdWVyeSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IEFQSV9LRVkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19ZT1VUVUJFX0FQSTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxyXG4gICAgICAgICAgICAgICAgYGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3lvdXR1YmUvdjMvc2VhcmNoP3BhcnQ9c25pcHBldCZxPSR7cXVlcnl9JmtleT0ke0FQSV9LRVl9YFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICAgICAgICBzZXRTZWFyY2hSZXN1bHRzKGRhdGEuaXRlbXMpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBZb3VUdWJlIGRhdGE6XCIsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuWVQgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuICAgICAgICAgICAgc2NyaXB0LnNyYyA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaVwiO1xyXG4gICAgICAgICAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xyXG4gICAgICAgICAgICBzY3JpcHQub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgd2luZG93Lm9uWW91VHViZUlmcmFtZUFQSVJlYWR5ID0gb25Zb3VUdWJlSWZyYW1lQVBJUmVhZHk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3aW5kb3cub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkgPSBvbllvdVR1YmVJZnJhbWVBUElSZWFkeTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbXSk7XHJcblxyXG4gICAgY29uc3Qgb25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHZpZGVvSWQpIHtcclxuICAgICAgICAgICAgY29uc3QgbmV3UGxheWVyID0gbmV3IHdpbmRvdy5ZVC5QbGF5ZXIoXCJ5b3V0dWJlLXBsYXllclwiLCB7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMVwiLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMVwiLFxyXG4gICAgICAgICAgICAgICAgdmlkZW9JZDogdmlkZW9JZCxcclxuICAgICAgICAgICAgICAgIHBsYXllclZhcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogMCxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sczogMCxcclxuICAgICAgICAgICAgICAgICAgICBtb2Rlc3RicmFuZGluZzogMSxcclxuICAgICAgICAgICAgICAgICAgICBzaG93aW5mbzogMCxcclxuICAgICAgICAgICAgICAgICAgICBmczogMCxcclxuICAgICAgICAgICAgICAgICAgICByZWw6IDAsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25SZWFkeTogKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFBsYXllcihldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQucGxheVZpZGVvKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQucGF1c2VWaWRlbygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBvblN0YXRlQ2hhbmdlOiAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEgPT09IHdpbmRvdy5ZVC5QbGF5ZXJTdGF0ZS5QTEFZSU5HKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc1BsYXlpbmcodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEgPT09IHdpbmRvdy5ZVC5QbGF5ZXJTdGF0ZS5QQVVTRUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzUGxheWluZyhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmICh2aWRlb0lkICYmIHR5cGVvZiB3aW5kb3cuWVQgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgb25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkoKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbdmlkZW9JZF0pO1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZVBsYXlQYXVzZSA9ICgpID0+IHtcclxuICAgICAgICBpZiAoaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KFwicGF1c2UtdmlkZW9cIiwgcm9vbUlkKTtcclxuICAgICAgICAgICAgc2V0SXNQbGF5aW5nKGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5wYXVzZVZpZGVvKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzb2NrZXQuZW1pdChcInBsYXktdmlkZW9cIiwgcm9vbUlkLCB2aWRlb0lkLCB2aWRlb1RpdGxlKTtcclxuICAgICAgICAgICAgc2V0VmlkZW9UaXRsZSh2aWRlb1RpdGxlKTtcclxuICAgICAgICAgICAgaWYgKHBsYXllcikge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnBsYXlWaWRlbygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldElzUGxheWluZyghaXNQbGF5aW5nKTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgaGFuZGxlVmlkZW9TZWxlY3QgPSAodmlkZW9JZCwgdmlkZW9UaXRsZSkgPT4ge1xyXG4gICAgICAgIHNldFZpZGVvSWQodmlkZW9JZCk7XHJcbiAgICAgICAgc2V0VmlkZW9UaXRsZSh2aWRlb1RpdGxlKTtcclxuICAgICAgICBzb2NrZXQuZW1pdChcInBsYXktdmlkZW9cIiwgcm9vbUlkLCB2aWRlb0lkLCB2aWRlb1RpdGxlKTtcclxuICAgICAgICBpZiAocGxheWVyKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5sb2FkVmlkZW9CeUlkKHZpZGVvSWQpO1xyXG4gICAgICAgICAgICBwbGF5ZXIucGxheVZpZGVvKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldElzUGxheWluZyh0cnVlKTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgc2VuZE1lc3NhZ2UgPSAodHlwZSA9IFwidGV4dFwiLCBjb250ZW50ID0gXCJcIikgPT4ge1xyXG4gICAgICAgIGlmICh0eXBlID09PSBcInRleHRcIiAmJiBtZXNzYWdlLnRyaW0oKSkge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0geyByb29tSWQsIHR5cGUsIG1lc3NhZ2UsIHNlbmRlcklkOiB1c2VySWQgfTtcclxuICAgICAgICAgICAgc29ja2V0LmVtaXQoXCJzZW5kLW1lc3NhZ2VcIiwgZGF0YSk7XHJcbiAgICAgICAgICAgIHNldE1lc3NhZ2UoXCJcIik7IC8vIFJlc2V0IHRoZSBpbnB1dFxyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJtZWRpYVwiICYmIGNvbnRlbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsgcm9vbUlkLCB0eXBlLCBjb250ZW50LCBzZW5kZXJJZDogdXNlcklkIH07XHJcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KFwic2VuZC1tZXNzYWdlXCIsIGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuXHJcblxyXG4gICAgICBcclxuXHJcblxyXG5cclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmIChzY3JvbGwuY3VycmVudCkge1xyXG4gICAgICAgICAgICBzY3JvbGwuY3VycmVudC5zY3JvbGxUb3AgPSBzY3JvbGwuY3VycmVudC5zY3JvbGxIZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2NoYXRdKTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDw+XHJcbiAgICAgICB7LyogPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGgtc2NyZWVuIHctc2NyZWVuIGJnLWJsYWNrIHRleHQtd2hpdGUgcHktMiByZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW4gb3ZlcmZsb3cteS1oaWRkZW5cIj4gKi99XHJcbiAgICAgICB7LyogPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGgtc2NyZWVuIHctc2NyZWVuIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1yZWQtODAwIHRvLXBpbmstNzAwIHRleHQtd2hpdGUgcHktMiByZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW4gb3ZlcmZsb3cteS1oaWRkZW5cIj4gKi99XHJcbiAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaC1zY3JlZW4gdy1zY3JlZW4gYmctWyMwMjU5NDBdIHRleHQtd2hpdGUgcHktMiByZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW4gb3ZlcmZsb3cteS1oaWRkZW5cIj5cclxuXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImgtWzgwMHB4XSB3LVs4MDBweF0gYmctYmx1ZS04MDAgcm91bmRlZC1mdWxsIGJsdXItM3hsIG9wYWNpdHktMjUgYWJzb2x1dGUgYm90dG9tLTAgLWxlZnQtMzJcIj48L2Rpdj5cclxuICAgIDxhdWRpbyByZWY9e25vdGlmaWNhdGlvblRvbmV9IHNyYz1cIi90b25lLm1wM1wiIHByZWxvYWQ9XCJhdXRvXCIgLz5cclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1bNDAwcHhdIHctWzQwMHB4XSBiZy1wdXJwbGUtODAwIHJvdW5kZWQtZnVsbCBibHVyLTN4bCBvcGFjaXR5LTI1IGFic29sdXRlIHRvcC0wIC1yaWdodC0zMlwiPjwvZGl2PlxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgdGV4dC1jZW50ZXIgcHktMiB0ZXh0LXNtXCI+XHJcbiAgICAgICAgPHA+e3Jvb21Vc2Vycy5sZW5ndGh9IHVzZXJzPC9wPlxyXG4gICAgICAgIDxwPlNoYXJlIGNvZGU6IHtyb29tSWR9PC9wPlxyXG4gICAgPC9kaXY+XHJcblxyXG4gICAgey8qIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctc2NyZWVuLWxnIHctZnVsbCBteC1hdXRvIHJvdW5kZWQteGwgcmVsYXRpdmUgei0xMCBsZzpweC0wIHB4LTVcIj4gKi99XHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LXNjcmVlbi14bCB3LWZ1bGwgbXgtYXV0byByb3VuZGVkLXhsIHJlbGF0aXZlIHotMTAgbGc6cHgtMCBweC0yXCI+XHJcblxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbGc6cHktNSBweS0yIHB4LTUgYmctYmx1ZS0zMDAgcm91bmRlZC14bCB6LTIwXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zXCI+XHJcbiAgICAgICAgICAgICAgICB7dmlkZW9JZCA/IChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57dmlkZW9UaXRsZT8ubGVuZ3RoID4gMjAgPyB2aWRlb1RpdGxlPy5zbGljZSgwLCAyMCkgOiBcIlwifTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtNCBweS0yICR7aXNQbGF5aW5nID8gXCJiZy1ibHVlLTkwMFwiIDogXCJiZy1ibHVlLTMwMFwifSB0ZXh0LXdoaXRlIHJvdW5kZWQtbGdgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUGxheVBhdXNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNQbGF5aW5nID8gXCJQYXVzZVwiIDogXCJQbGF5XCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj4gTm8gbXVzaWMgc2VsZWN0ZWQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPEltYWdlIHNyYz1cIi8xMjNsLnBuZ1wiIGFsdD1cIm11c2ljXCIgd2lkdGg9ezYwfSBoZWlnaHQ9ezYwfSBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlclwiIG9uQ2xpY2s9eygpID0+IHNldG1vZGFsKHRydWUpfSAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICB7LyogSGlkZGVuIFlvdVR1YmUgcGxheWVyICovfVxyXG4gICAgICAgIDxkaXYgaWQ9XCJ5b3V0dWJlLXBsYXllclwiIGNsYXNzTmFtZT1cIm1iLTRcIj48L2Rpdj5cclxuXHJcbiAgICAgICAgey8qIENoYXQgKi99XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsZzpoLVs1MjBweF0gaC1bNTAwcHhdIG92ZXJmbG93LXktc2Nyb2xsIGZsZXggZmxleC1jb2wgZ2FwLTQgcHktMTAgbGc6cHgtOCBweC0yIHJvdW5kZWQteGwgei0xMFwiIHJlZj17c2Nyb2xsfT5cclxuICAgICAgICAgICAge2NoYXQubWFwKChtc2csIGluZGV4KSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLWNlbnRlciAke21zZy5zZW5kZXJJZCA9PT0gdXNlcklkID8gXCJqdXN0aWZ5LWVuZFwiIDogXCJqdXN0aWZ5LXN0YXJ0XCJ9YH1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICB7bXNnLnNlbmRlcklkICE9PSB1c2VySWQgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz1cIi9oZWFydC5wbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiVXNlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17NDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9ezQwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXItMiByb3VuZGVkLWZ1bGwgYmctYmx1ZS0zMDAgcC0yXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHktMiBweC00IG1heC13LXhzIHJvdW5kZWQtbGcgJHttc2cuc2VuZGVySWQgPT09IHVzZXJJZCA/IFwiYmctYmx1ZS00MDAgdGV4dC13aGl0ZVwiIDogXCJiZy1ibHVlLTMwMFwifWB9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7bXNnLnR5cGUgPT09IFwidGV4dFwiICYmIG1zZy5tZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7bXNnLnR5cGUgPT09IFwibWVkaWFcIiAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuY29udGVudD8uc3RhcnRzV2l0aChcImRhdGE6aW1hZ2VcIikgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17bXNnLmNvbnRlbnR9IGFsdD1cIlNoYXJlZCBtZWRpYVwiIGNsYXNzTmFtZT1cIm1heC13LWZ1bGwgcm91bmRlZC1sZ1wiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge21zZy5jb250ZW50Py5zdGFydHNXaXRoKFwiZGF0YTp2aWRlb1wiKSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2aWRlbyBjb250cm9scyBjbGFzc05hbWU9XCJtYXgtdy1mdWxsIHJvdW5kZWQtbGdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzb3VyY2Ugc3JjPXttc2cuY29udGVudH0gdHlwZT1cInZpZGVvL21wNFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgdmlkZW8gdGFnLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3ZpZGVvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuY29udGVudD8uc3RhcnRzV2l0aChcImJsb2I6XCIpICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuY29udGVudD8uaW5jbHVkZXMoXCJpbWFnZVwiKSA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17bXNnLmNvbnRlbnR9IGFsdD1cIlNoYXJlZCBtZWRpYVwiIGNsYXNzTmFtZT1cIm1heC13LWZ1bGwgcm91bmRlZC1sZ1wiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbXNnLmNvbnRlbnQ/LmluY2x1ZGVzKFwidmlkZW9cIikgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHZpZGVvIGNvbnRyb2xzIGNsYXNzTmFtZT1cIm1heC13LWZ1bGwgcm91bmRlZC1sZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c291cmNlIHNyYz17bXNnLmNvbnRlbnR9IHR5cGU9XCJ2aWRlby9tcDRcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgdmlkZW8gdGFnLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdmlkZW8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICB7LyogTWVzc2FnZSBpbnB1dCAqL31cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1yb3cgaXRlbXMtY2VudGVyIHNwYWNlLXgtNVwiPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXttZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRNZXNzYWdlKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgIG9uS2V5RG93bj17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2UoXCJ0ZXh0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSBhIG1lc3NhZ2UuLi5cIlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGJnLXRyYW5zcGFyZW50IHJvdW5kZWQtbGcgdGV4dC13aGl0ZSAgc206bWItMFwiXHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNlbmRNZXNzYWdlKFwidGV4dFwiKX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTYgcHktMyBiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgaG92ZXI6YmctYmx1ZS02MDBcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBTZW5kXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG1vZGFsICYmIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgdG9wLTAgbGVmdC0wIHctZnVsbCBoLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2sgYmctb3BhY2l0eS04MCB6LTUwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtNCByaWdodC00IHRleHQtd2hpdGUgdGV4dC0yeGxcIiBvbkNsaWNrPXsoKSA9PiBzZXRtb2RhbChmYWxzZSl9PkNsb3NlPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHNwYWNlLXktMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hRdWVyeX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VhcmNoUXVlcnkoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWFyY2ggZm9yIGEgc29uZy4uLlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZWFyY2hZb3VUdWJlKHNlYXJjaFF1ZXJ5KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTIgcHgtNCBweS0yIGJnLWJsdWUtNTAwIHRleHQtd2hpdGUgcm91bmRlZC1sZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlYXJjaFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBEaXNwbGF5IHNlYXJjaCByZXN1bHRzICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWFyY2hSZXN1bHRzLm1hcCgodmlkZW8pID0+IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17dmlkZW8uaWQudmlkZW9JZH0gY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gbWItMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB0ZXh0LXdoaXRlIHB4LTEwXCI+IHt2aWRlby5zbmlwcGV0LnRpdGxlfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVWaWRlb1NlbGVjdCh2aWRlby5pZC52aWRlb0lkLCB2aWRlby5zbmlwcGV0LnRpdGxlKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1ncmVlbi01MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2VsZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICA8Lz5cclxuICAgICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDaGF0Um9vbTtcclxuIl0sIm5hbWVzIjpbIkltYWdlIiwiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlUmVmIiwidXNlU3RhdGUiLCJpbyIsInY0IiwidXVpZHY0IiwiQ2hhdFJvb20iLCJyb29tSWQiLCJzb2NrZXQiLCJtZXNzYWdlIiwic2V0TWVzc2FnZSIsImNoYXQiLCJzZXRDaGF0IiwidXNlcklkIiwic2V0VXNlcklkIiwicm9vbVVzZXJzIiwic2V0Um9vbVVzZXJzIiwidmlkZW9JZCIsInNldFZpZGVvSWQiLCJwbGF5ZXIiLCJzZXRQbGF5ZXIiLCJpc1BsYXlpbmciLCJzZXRJc1BsYXlpbmciLCJzZWFyY2hRdWVyeSIsInNldFNlYXJjaFF1ZXJ5Iiwic2VhcmNoUmVzdWx0cyIsInNldFNlYXJjaFJlc3VsdHMiLCJ2aWRlb1RpdGxlIiwic2V0VmlkZW9UaXRsZSIsInNjcm9sbCIsIm1vZGFsIiwic2V0bW9kYWwiLCJub3RpZmljYXRpb25Ub25lIiwiaWQiLCJvbiIsImNvbnNvbGUiLCJsb2ciLCJkYXRhIiwicHJldiIsImN1cnJlbnQiLCJwbGF5IiwiY2F0Y2giLCJlcnIiLCJlcnJvciIsInVzZXJzIiwibG9hZFZpZGVvQnlJZCIsInBsYXlWaWRlbyIsInBhdXNlVmlkZW8iLCJlbWl0Iiwib2ZmIiwic2VhcmNoWW91VHViZSIsInF1ZXJ5IiwiQVBJX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19ZT1VUVUJFX0FQSSIsInJlc3BvbnNlIiwiZmV0Y2giLCJqc29uIiwiaXRlbXMiLCJ3aW5kb3ciLCJZVCIsInNjcmlwdCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNyYyIsImFzeW5jIiwib25sb2FkIiwib25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJuZXdQbGF5ZXIiLCJQbGF5ZXIiLCJoZWlnaHQiLCJ3aWR0aCIsInBsYXllclZhcnMiLCJhdXRvcGxheSIsImNvbnRyb2xzIiwibW9kZXN0YnJhbmRpbmciLCJzaG93aW5mbyIsImZzIiwicmVsIiwiZXZlbnRzIiwib25SZWFkeSIsImV2ZW50IiwidGFyZ2V0Iiwib25TdGF0ZUNoYW5nZSIsIlBsYXllclN0YXRlIiwiUExBWUlORyIsIlBBVVNFRCIsImhhbmRsZVBsYXlQYXVzZSIsImhhbmRsZVZpZGVvU2VsZWN0Iiwic2VuZE1lc3NhZ2UiLCJ0eXBlIiwiY29udGVudCIsInRyaW0iLCJzZW5kZXJJZCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImRpdiIsImNsYXNzTmFtZSIsImF1ZGlvIiwicmVmIiwicHJlbG9hZCIsInAiLCJsZW5ndGgiLCJzcGFuIiwic2xpY2UiLCJidXR0b24iLCJvbkNsaWNrIiwiYWx0IiwibWFwIiwibXNnIiwiaW5kZXgiLCJzdGFydHNXaXRoIiwiaW1nIiwidmlkZW8iLCJzb3VyY2UiLCJpbmNsdWRlcyIsImlucHV0IiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJvbktleURvd24iLCJrZXkiLCJwbGFjZWhvbGRlciIsInNuaXBwZXQiLCJ0aXRsZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/_components/chat/page.js\n"));

/***/ })

});